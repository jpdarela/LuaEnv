<!-- LuaEnv GUI Concept - Avalonia XAML -->
<!-- This shows what the GUI could look like -->

<Window xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        x:Class="LuaEnv.GUI.MainWindow"
        Title="LuaEnv - Lua Version Manager"
        Width="800" Height="600"
        WindowStartupLocation="CenterScreen">

  <Grid>
    <Grid.RowDefinitions>
      <RowDefinition Height="Auto"/>
      <RowDefinition Height="*"/>
      <RowDefinition Height="Auto"/>
    </Grid.RowDefinitions>

    <!-- Header -->
    <StackPanel Grid.Row="0" Orientation="Horizontal" Margin="10">
      <TextBlock Text="🐍" FontSize="24" VerticalAlignment="Center"/>
      <TextBlock Text="LuaEnv" FontSize="24" FontWeight="Bold" Margin="10,0"/>
      <TextBlock Text="Lua Version Manager" FontSize="14" VerticalAlignment="Center" Opacity="0.7"/>
    </StackPanel>

    <!-- Main Content -->
    <TabView Grid.Row="1" Margin="10">

      <!-- Versions Tab -->
      <TabViewItem Header="📦 Versions">
        <Grid>
          <Grid.ColumnDefinitions>
            <ColumnDefinition Width="*"/>
            <ColumnDefinition Width="300"/>
          </Grid.ColumnDefinitions>

          <!-- Installed Versions -->
          <StackPanel Grid.Column="0" Margin="10">
            <TextBlock Text="Installed Versions" FontSize="16" FontWeight="Bold" Margin="0,0,0,10"/>
            <DataGrid Name="InstalledVersionsGrid" Height="300">
              <DataGrid.Columns>
                <DataGridTextColumn Header="Version" Binding="{Binding Version}" Width="100"/>
                <DataGridTextColumn Header="Build Type" Binding="{Binding BuildType}" Width="120"/>
                <DataGridTextColumn Header="Install Date" Binding="{Binding InstallDate}" Width="120"/>
                <DataGridTemplateColumn Header="Actions" Width="100">
                  <DataGridTemplateColumn.CellTemplate>
                    <DataTemplate>
                      <StackPanel Orientation="Horizontal">
                        <Button Content="🌍" ToolTip.Tip="Set Global" Margin="2"/>
                        <Button Content="🗑️" ToolTip.Tip="Uninstall" Margin="2"/>
                      </StackPanel>
                    </DataTemplate>
                  </DataGridTemplateColumn.CellTemplate>
                </DataGridTemplateColumn>
              </DataGrid.Columns>
            </DataGrid>

            <TextBlock Text="Global Version: 5.4.8" FontWeight="Bold" Margin="0,10"/>
          </StackPanel>

          <!-- Install Panel -->
          <StackPanel Grid.Column="1" Margin="10">
            <TextBlock Text="Install New Version" FontSize="16" FontWeight="Bold" Margin="0,0,0,10"/>

            <TextBlock Text="Available Versions:" Margin="0,5"/>
            <ComboBox Name="VersionComboBox" Margin="0,5">
              <ComboBoxItem>5.4.8</ComboBoxItem>
              <ComboBoxItem>5.4.7</ComboBoxItem>
              <ComboBoxItem>5.4.6</ComboBoxItem>
            </ComboBox>

            <TextBlock Text="Build Configuration:" Margin="0,10,0,5"/>
            <StackPanel>
              <RadioButton Content="Static Release" IsChecked="True" GroupName="BuildType" Margin="0,2"/>
              <RadioButton Content="Static Debug" GroupName="BuildType" Margin="0,2"/>
              <RadioButton Content="DLL Release" GroupName="BuildType" Margin="0,2"/>
              <RadioButton Content="DLL Debug" GroupName="BuildType" Margin="0,2"/>
            </StackPanel>

            <Button Content="📥 Install Version" Margin="0,20" Height="40" FontSize="14"/>

            <Separator Margin="0,20"/>

            <TextBlock Text="Quick Actions:" FontWeight="Bold" Margin="0,0,0,10"/>
            <Button Content="🔄 Refresh Available Versions" Margin="0,5"/>
            <Button Content="🧹 Clear Download Cache" Margin="0,5"/>
            <Button Content="🩺 Run Health Check" Margin="0,5"/>
          </StackPanel>
        </Grid>
      </TabViewItem>

      <!-- Projects Tab -->
      <TabViewItem Header="📁 Projects">
        <StackPanel Margin="10">
          <TextBlock Text="Project-Specific Versions" FontSize="16" FontWeight="Bold" Margin="0,0,0,10"/>

          <DataGrid Name="ProjectsGrid" Height="200">
            <DataGrid.Columns>
              <DataGridTextColumn Header="Project Path" Binding="{Binding Path}" Width="300"/>
              <DataGridTextColumn Header="Lua Version" Binding="{Binding LuaVersion}" Width="100"/>
              <DataGridTemplateColumn Header="Actions" Width="100">
                <DataGridTemplateColumn.CellTemplate>
                  <DataTemplate>
                    <Button Content="📝 Edit" Margin="2"/>
                  </DataTemplate>
                </DataGridTemplateColumn.CellTemplate>
              </DataGridTemplateColumn>
            </DataGrid.Columns>
          </DataGrid>

          <StackPanel Orientation="Horizontal" Margin="0,10">
            <Button Content="➕ Add Project" Margin="0,0,10,0"/>
            <Button Content="🔍 Scan for Projects" Margin="0,0,10,0"/>
          </StackPanel>
        </StackPanel>
      </TabViewItem>

      <!-- Settings Tab -->
      <TabViewItem Header="⚙️ Settings">
        <ScrollViewer Margin="10">
          <StackPanel>
            <TextBlock Text="Configuration" FontSize="16" FontWeight="Bold" Margin="0,0,0,10"/>

            <TextBlock Text="Installation Directory:" Margin="0,5"/>
            <TextBox Text="C:\Users\user\.luaenv\versions" Margin="0,5"/>

            <TextBlock Text="Cache Directory:" Margin="0,10,0,5"/>
            <TextBox Text="C:\Users\user\.luaenv\cache" Margin="0,5"/>

            <CheckBox Content="Auto-update available versions list" Margin="0,15"/>
            <CheckBox Content="Show installation progress notifications" Margin="0,5"/>
            <CheckBox Content="Create desktop shortcuts for installed versions" Margin="0,5"/>

            <Separator Margin="0,20"/>

            <TextBlock Text="Environment Integration" FontSize="14" FontWeight="Bold" Margin="0,0,0,10"/>
            <CheckBox Content="Enable PowerShell integration" Margin="0,5"/>
            <CheckBox Content="Enable Command Prompt integration" Margin="0,5"/>
            <CheckBox Content="Auto-switch based on .lua-version files" Margin="0,5"/>

            <Button Content="💾 Save Settings" Margin="0,20" Width="150" HorizontalAlignment="Left"/>
          </StackPanel>
        </ScrollViewer>
      </TabViewItem>

    </TabView>

    <!-- Status Bar -->
    <StatusBar Grid.Row="2">
      <StatusBarItem>
        <TextBlock Name="StatusText" Text="Ready"/>
      </StatusBarItem>
      <StatusBarItem HorizontalAlignment="Right">
        <TextBlock Text="LuaEnv v1.0.0"/>
      </StatusBarItem>
    </StatusBar>

  </Grid>
</Window>
